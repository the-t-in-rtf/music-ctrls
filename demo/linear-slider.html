<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8"/>
    <link href="./source/dist/sisiliano.min.css" rel="stylesheet"/>
    <link href="./css/demo.css" rel="stylesheet"/>

    <script src="./source/node_modules/infusion/dist/infusion-all.js"></script>
    <script src="./source/node_modules/handlebars/dist/handlebars.js"></script>
    <script src="./source/node_modules/d3/d3.js"></script>
    <script src="./source/dist/sisiliano.js"></script>
    <script src="./source/node_modules/ace-builds/src-noconflict/ace.js"></script>

    <script>
        $(document).on('ready', function () {
            var tds = $('.test');
            var colors = [
                "#F44336",
                "#FF9800",
                "#3F51B5",
                "#E91E63",
                "#4CAF50",
                "#CDDC39",
                "#009688",
                "#4CAF50",
                "#CDDC39",
                "#673AB7",
                "#FFEB3B",
                "#673AB7",
                "#E91E63",
                "#FFEB3B",
                "#673AB7",
                "#CDDC39",
                "#009688",
                "#4CAF50",
                "#CDDC39",
                "#673AB7",
                "#FFEB3B",
            ];
            for (var i = 0; i < tds.length; i++) {
                var randomColorIndex1 = Math.floor(Math.random() * colors.length - 1);
                var randomColorIndex2 = Math.floor(Math.random() * colors.length - 1);
                sisiliano.linearSlider(tds[i], {
                    model: {
                        color: [colors[randomColorIndex1], "black"],
                        value: Math.random() * 100
                    }
                });
            }

            var editor = ace.edit("editor");
            editor.setTheme("ace/theme/monokai");
            editor.getSession().setMode("ace/mode/javascript");

            $(".play-btn").on("click", function (evt) {
                $("#preview").empty();
                $("#preview").html("<div class='box text-center' style='width: 100%'><i class='loading-animation'></i></div>");
                eval(editor.getValue());
            });
            $(".play-btn").draggable({containment: "parent"});
            $(".play-btn").trigger("click");
        });
    </script>
</head>
<body>
<a href="https://github.com/dinukadesilva/music-ctrls" class="fork-me">
    Fork me on GitHub
</a>
<div class="box introduction" style="width: 100%">
    <h1 class="introduction-title">Sisiliano</h1>
    <p>
        With the introduction of the Web Audio API and music frameworks such as Flocking,
        it's possible to make music and develop custom instruments entirely using Web technologies.
        <br>
        A variety of user interface component libraries have been developed to assist in the creation
        of musical interfaces. However, the majority of them aren't very "web-like." Many are based
        on Canvas or bitmap images, and aren't compatible with responsive design techniques, can't be
        easily re-styled or customized using tools like CSS, and aren't accessible via the keyboard or
        with assistive technologies such as a screenreader.
        <br>
        This project will involve the creation of a small collection of high-quality, responsive,
        SVG or DOM-based musical user interface controls such as knobs, sliders, x/y pads, button matrices,
        envelope editors, waveform viewers
    </p>
</div>
<div class="box demo" style="width: 100%">
    <div class="box description" style="width: 100%">
        <div class="box introduction-div">
            <h1>Linear Slider</h1>

            <button class="btn fn-btn">Read more</button>
            <button class="btn fn-btn">Try..</button>
        </div>
        <div class="box introduction-div">
            <div class="box test" style="height: 120px; width: 100%"></div>
            <div class="box test" style="height: 100px; width: 100%"></div>
            <div class="box test" style="height: 90px; width: 100%"></div>
            <div class="box test" style="height: 60px; width: 100%"></div>
            <div class="box test" style="height: 30px; width: 100%"></div>
        </div>
    </div>
    <div class="box try-example" style="width: 100%">
        <div class="box" style="width: 50%">
            <div id="editor" class="box" style="height: 400px; width: 100%">
sisiliano.linearSlider($('#preview'), {
    model: {
        color: "green",
        value: 23,
        rulerPoints: [0,  20, 30, 40, 50, 60, 70, 80, 90, 100],
        styles: {
            pointer: {
                label: {
                    padding: {
                        left: 2,
                        right: 2,
                        top: 2,
                        bottom: 2
                    },
                    margin: {
                        left: 0,
                        right: 0,
                        top: 0,
                        bottom: 10
                    }

                    /* #### CSS classes ###
                    class: "class-name1 class-name2"
                    */

                    /* ### CSS properties ###
                    fill: "res"
                    */
                },
                labelText: {
                    /* #### CSS classes ###
                    class: "class-name1 class-name2"
                    */

                    /* ### CSS properties ###
                    fill: "res"
                    */
                },
                valuePointer: {
                    /* #### CSS classes ###
                    class: "class-name1 class-name2"
                    */

                    /* ### CSS properties ###
                    fill: "res"
                    */
                },
                valuePointerShadow: {
                    /* #### CSS classes ###
                    class: "class-name1 class-name2"
                    */

                    /* ### CSS properties ###
                    fill: "res"
                    */
                }
            },
            ruler: {
                line: {
                    /* #### CSS classes ###
                    class: "class-name1 class-name2"
                    */

                    /* ### CSS properties ###
                    fill: "res"
                    */
                },
                value: {
                    /* #### CSS classes ###
                    class: "class-name1 class-name2"
                    */

                    /* ### CSS properties ###
                    fill: "res"
                    */
                }
            },
            sliderBar: {
                valueBar: {
                    /* #### CSS classes ###
                    class: "class-name1 class-name2"
                    */

                    /* ### CSS properties ###
                    fill: "res"
                    */
                },
                backgroundBar: {
                    /* #### CSS classes ###
                    class: "class-name1 class-name2"
                    */

                    /* ### CSS properties ###
                    fill: "res"
                    */
                },
                padding: {
                    left: 80,
                    right: 80,
                    top: 80,
                    bottom: 80
                }
            }
        }
    }
});
            </div>
            <a class="box play-btn">
                Run
            </a>
        </div>
        <div class="box preview" style="min-height: 400px; width: 50%">
            <div id="preview" style="width: 100%; height: 100px"></div>
        </div>
    </div>
</div>
</body>
</html>
